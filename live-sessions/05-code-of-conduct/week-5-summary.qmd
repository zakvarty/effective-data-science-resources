---
title: "Week 5 Live Session"
subtitle: "Data Science Ethics"
author: Dr Zak Varty
date: ""
editor: source
format:
  revealjs:
    theme: assets/eds-slides-theme.scss #(default / dark / simple)
    logo: assets/EDS-logo.jpg
    #bibliography: assets/refs.bib
    footer: "Effective Data Science: Ethics - Live Session - Zak Varty"
    menu: true
    slide-number: true
    show-slide-number: all # (all / print / speaker)
    self-contained: true # (set to true before publishing html)
    width: 1600 # default is 1050
    height: 900 # default is 850
    incremental: false
---

## Session Plan 

1. Assessment questions speed-run
2. Week in review 
3. Professional Guidelines  
4. What would you do?
5. Data anonymisation walk through (if time allows)

# Questions Speed-run 

## From the inbox:

<br>

### Do I need to test my code? 

I can't make you do it, but if I were sharing my work with someone then I'd like to know it works as I intended. 

<br>

### Thoughts on Scripting + LaTeX vs Quarto vs Rmd vs JuPyteR

See section 2.3 of the notes. Good points about user familiarity, in any case povide enough information for someone new to that ecosystem. 

## File Size Limits
 
Large datasets should not be stored within a project directory. (And might cause issues with uploading your zip file)

Instead:

:::{.incremental}
- use a data version control service, 

- host the data online and download only the parts of it that are needed within your scripts,

- link in the documentation to where the full data may be downloaded (giving appropriate warning of the large file size)
:::

## Other Questions?

Anything that I missed or you forgot to ask? 


# Week in Review

## Week In Review 

::::{.columns}
:::{.column width="50%"}
__Privacy__

- Human and legal right (GDPR)
- $k$-anonymity
- Netflix De-anonymisation

__Fairness__

- Most at risk: minorities & historically disadvantaged groups
- Fairness metrics & loss function
- Gender Shades case study

:::
:::{.column width="50%"}

__Codes of Conduct__

- Tools for supporting good work
- _Highly_ variable in detail
- Explore more in this session.
:::
::::


## Professional Ethics 

Lots of ways of partitioning the same ideas 

::::{.columns}
:::{.column width="47.5%"}
- [Floridi and Cowls](https://hdsr.mitpress.mit.edu/pub/l0jsh9d1/release/8) -  5 Principles of Ethical AI
  - Beneficence,
  - Non-maleficence,
  - Autonomy,
  - Justice,
  - Explicability
:::
:::{.column width="5%"}
:::
:::{.column width="47.5%"}
- [Alan Turing Institute](https://www.turing.ac.uk/sites/default/files/2019-06/understanding_artificial_intelligence_ethics_and_safety.pdf) - FAST 
  - Fairness
  - Accountability
  - Sustainability
  - Safety
  - Transparency
:::
::::

## Focus 5 Principles 

## Ethical Frameworks - 5 Principles

<p style="text-align:center;">
<img 
  src="images/floridi-and-cowls.jpg" 
  alt="Title section of the paper by Floridi and Cowls (2019), 
      A Unified Framework of Five Principles for AI in Society." 
  width="70%"
>
</p>

<p style="text-align:center;">
Beneficence, Non-maleficence, Autonomy, Justice, Explainability. 
</p> 

## Ethical Frameworks - Organisational Ethics

<p style="text-align:center;">
<img src="images/professional-guidelines.jpg" width="80%" alt="Title pages from codes of conduct relating to data ethics from the European Union, American Mathematical Society, Royal Statistical Society and UK government.">
</p>


## Activity - Organisational Ethics

<br>

We will break into groups for **20 minutes** to discuss the published guidance on DS / AI from four organisations. 

<br>

Questions you might try to answer: 

- Who is the intended audience for your document?
- How do the published guidelines link to the guidelines of Floridi and Cowls?
- How effectively does the document achieve its goal?
- What would you change or do differently?

```{r}
countdown::countdown(20)
```

## Document Links 

<br>

- Group 1 [The European Union](https://op.europa.eu/s/sUPP)

- Group 2 [The Royal Statistical Society](https://rss.org.uk/RSS/media/News-and-publications/Publications/Reports%20and%20guides/A-Guide-for-Ethical-Data-Science-Final-Oct-2019.pdf)

- Group 3 [The Dutch Government](https://www.government.nl/documents/reports/2021/07/31/impact-assessment-fundamental-rights-and-algorithms)

- Group 4 [The UK Government](https://www.gov.uk/guidance/understanding-artificial-intelligence-ethics-and-safety)

- Group 5 (Online) [Google](https://ai.google/responsibility/principles/)

# Feedback from Groups (20 mins)

## Group 1

<br>

**The European Union**

<br>

Questions you might try to answer: 

- Who is the intended audience for your document?
- How do the published guidelines link to the guidelines of Floridi and Cowls?
- How effectively does the document achieve its goal?
- What would you change or do differently?

```{r}
countdown::countdown(4)
```

--------------------------------------------------------------------------------

## Group 2

<br>

**The Royal Statistical Society**

<br>

Questions you might try to answer: 

- Who is the intended audience for your document?
- How do the published guidelines link to the guidelines of Floridi and Cowls?
- How effectively does the document achieve its goal?
- What would you change or do differently?

```{r}
countdown::countdown(4)
```

--------------------------------------------------------------------------------

## Group 3

<br>

**The Dutch Government**

<br>

Questions you might try to answer: 

- Who is the intended audience for your document?
- How do the published guidelines link to the guidelines of Floridi and Cowls?
- How effectively does the document achieve its goal?
- What would you change or do differently?

```{r}
countdown::countdown(4)
``` 

--------------------------------------------------------------------------------

## Group 4

<br>

**The UK Government**

<br>

Questions you might try to answer: 

- Who is the intended audience for your document?
- How do the published guidelines link to the guidelines of Floridi and Cowls?
- How effectively does the document achieve its goal?
- What would you change or do differently?

```{r}
countdown::countdown(4)
``` 

--------------------------------------------------------------------------------

## Group 5

<br>

**Google**

<br>

Questions you might try to answer: 

- Who is the intended audience for your document?
- How do the published guidelines link to the guidelines of Floridi and Cowls?
- How effectively does the document achieve its goal?
- What would you change or do differently?

```{r}
countdown::countdown(4)
``` 

# Making Information Palatable (5 mins)

--------------------------------------------------------------------------------

## Form as well as function? 

<br>

In the final few minutes, discuss the documents themselves (rather than their content).

How might the delivery of information impact on how it is recieved / acted upon? 

<br>

- How important is length?
- How important is presentation?
- Does your organisation have a similar document? 
- How does it compare?

<!-- 

# Surveys on Sensitive topics

## Have you started working on Assessment 1 yet? {.smaller}

::::{.columns}
:::{.column width="40%"}
`https://www.menti.com/alcgp111o5gg`
:::
:::{.column width="60%"}
![](mentimeter_qr_code_1.png){width="70%"}
:::
::::

## How would you model/ estimate the true number of people who have not yet started the assessment? 

## My approach 

- $m$ students total - $m_1$ started, $m_0$ have not.
- $n$ students surveyed - $n_1$ started, $m_1$ have not.

- Assume response independent of truth (questionable, likely optimistic)

\hat p = \frac{n_0}{n_0 + n_1}

- \hat P \sim \text{Bin}(n, p)

```{r}
n_0 <- 2
n <- 12
m <- 50

n_bootstrap <- 10000
bootstrap_m_0_estimates <- rep(NA_integer_, n_bootstrap)

set.seed(1234)

for (sim in 1:n_bootstrap) {
  # Simulate P_hat from sampling distribution
  n_0_sim <- rbinom(1, size = n, prob = n_0 / n)
  p_hat_sim <- n_0_sim / n 
  
  # Gener
  bootstrap_m_0_estimates[sim] <- rbinom(1, size = m, prob = p_hat_sim)
  }

mean(bootstrap_m_0_estimates)
quantile(bootstrap_m_0_estimates, probs = c(0.025, 0.975))

```

A couple of issues: 

- Not accounting for finite sample size effects
- What if everyone says they have 

```{r}
n_0 <- 2
n <- 12
m <- 50

n_bootstrap <- 10000
bootstrap_m_0_estimates <- rep(NA_integer_, n_bootstrap)

set.seed(1234)

for (sim in 1:n_bootstrap) {
  # Simulate P_hat from sampling distribution
  n_0_sim <- rbinom(1, size = n, prob = n_0 / n)
  p_hat_sim <- n_0_sim / n 
  
  # Gener
  bootstrap_m_0_estimates[sim] <- n_0 + rbinom(1, size = m - n, prob = p_hat_sim)
  }

mean(bootstrap_m_0_estimates)
quantile(bootstrap_m_0_estimates, probs = c(0.025, 0.975))

```
- Curious but not strange that upper bound comes down too.


## Randomised Response 

![](probability_tree_affairs.png){width="50%"}

## Did you use ChatGPT to help you with Assessment 1? {.smaller}

::::{.columns}
:::{.column width="40%"}
`https://www.menti.com/alcgp111o5gg`
:::
:::{.column width="60%"}
![](mentimeter_qr_code_1.png){width="70%"}
:::
::::

## Randomised Response Downside 
::::{.columns}
:::{.column width="65%"}
- $\hat p \neq \bar x$

- $\text{Var}(\hat P) > \frac{p(1-p)}{n} = \text{Var}(\bar X)$
:::
:::{.column width="35%"}
![](variance_as_function_of_p_and_n.png){width="100%"}
:::
::::

-->

# BREAK 

```{r}
countdown::countdown(10)
```

# Discussion Points / Case Studies / Thought Experiments

## Predicting Pregnancy 

- What predictors / target variables do you feel should not be used in predictive models for targeted advertising?

```{r}
countdown::countdown(7)
```

## Doorbell

Doorbell cameras are thing now. What if they offered personalised ringtones, depending who was at the door? 

- What issues might this present in terms of privacy and fairness?

- Which companies would you feel comfortable having this type of information about you? (And may already)

- How could this data be misused by the company or if leaked?

```{r}
countdown::countdown(10)
```


## Journo 

Suppose you used web scraping to collect public data of 100,000 social media users for you dissertation. 

A journalist asks for access to the data, promising not to make the content public. 

- Would you provide your data and / or code? 

- Would your answer change if it were a sociology lecturer writing a paper on digital communities? 

```{r}
countdown::countdown(7)
```

# Optional: K-anonymisation walk-through

# Thank you for your time, attention and enthusiasm! 

Any final feedback would be much appreciated 

`menti.com`: `2546 5388` 
